# 《大湾区徒步》真实体验平衡性调整方案

**文档类型**：平衡性调整建议
**文档版本**：v1.0
**创建日期**：2026年1月29日
**维护团队**：游戏策划团队
**面向对象**：游戏策划、数值策划、开发团队

---

## 文档说明

本文档是基于真实徒步体验数据，对《大湾区徒步》游戏属性系统和货币系统进行的量化调整方案。旨在通过科学的计算和合理的设计，使游戏流程和设定更加合理、流畅，同时保持游戏的策略性和趣味性。

**设计目标**：
- 提升游戏真实感，让玩家体验更接近真实徒步
- 平衡游戏难度，确保新手友好且后期有挑战
- 优化经济系统，使资源获取和消耗更加合理
- 增强策略深度，让玩家在资源管理上有更多选择

---

## 一、现状分析

### 1.1 现有系统概述

#### 五维属性系统

| 属性 | 取值范围 | 起始值 | 主要影响 |
|------|---------|--------|---------|
| **体能** | 0-100 | 100 | 主属性，为0则游戏结束 |
| **疲劳** | 0-20 | 0 | 体能降低的缓冲区 |
| **饥饿** | 0-100 | 100 | 影响体能恢复速率 |
| **口渴** | 0-100 | 100 | 影响体能恢复速率 |
| **心率** | 80-180 | 110 | 反映运动强度 |

#### 经济系统

| 货币类型 | 功能 | 局内/局外 | 获取方式 | 用途 |
|---------|------|----------|---------|------|
| **徒步数** | 局外经验 | 局外 | 消除卡牌、翻越地形障碍 | 局外角色属性升级 |
| **海拔数** | 局外稀有货币 | 局外 | 通关奖励 | 局外兑换高级装备 |
| **环保值** | 局内货币 | 局内 | 消除环境卡、完成环保行为 | 局内商店购买物品+照片卡包 |

#### 地形障碍翻越消耗

| 地形卡名称 | 翻越消耗 |
|-----------|---------|
| 大屿山陡坡 | 12体能 |
| 珠江口溪流 | 10体能 |
| 古栈道 | 8体能 |
| 郊野公园山路 | 7体能 |

#### 资源卡效果

| 资源卡名称 | 体能恢复 | 饥饿恢复 | 口渴恢复 |
|-----------|---------|---------|---------|
| 早茶点心 | +15 | +20 | 0 |
| 港式奶茶 | +10 | 0 | +15 |
| 海鲜粥 | +20 | +15 | 0 |
| 凉茶 | +5 | 0 | +20 |

### 1.2 存在的问题

#### 问题1：体能消耗与距离不匹配
- **现状**：地形障碍消耗7-12体能，但没有与实际距离挂钩
- **问题**：玩家无法预估体能消耗，缺乏真实感

#### 问题2：海拔影响未量化
- **现状**：海拔仅作为背景展示，没有影响体能消耗
- **问题**：违反了真实体验中"海拔越高，消耗越大"的规律

#### 问题3：货币获取与实际不符
- **现状**：徒步数获取方式未明确，与实际徒步距离脱节
- **问题**：缺乏成就感反馈

#### 问题4：资源补给过于简化
- **现状**：资源卡效果单一，没有考虑真实徒步的补给需求
- **问题**：缺乏策略深度

#### 问题5：休息机制缺失
- **现状**：没有明确的休息机制
- **问题**：疲劳值仅作为缓冲，无法真正"休息"

---

## 二、真实体验数据量化

### 2.1 基础量化标准

根据真实徒步体验数据，制定以下基础量化标准：

```
基准标准：
- 初始体能 100 = 应对 20 公里山路
- 每 100 米海拔 = 1 公里山路效果
- 每 10 公里徒步 = 产生 20,000 徒步数
- 20 公里徒步 = 耗时 4 小时
- 20 公里徒步 = 需要 2 次休息
- 20 公里徒步 = 需要 3 瓶水 + 1 瓶运动饮料 + 1 次巧克力补给
```

### 2.2 详细计算

#### 2.2.1 体能消耗率

**基准计算**：
```
体能消耗率 = 初始体能 / 可应对路程
           = 100 / 20 公里
           = 5 体能 / 公里（山路标准）
```

**平路与山路区分**：
```
平路消耗率 = 山路消耗率 × 0.5
           = 5 × 0.5
           = 2.5 体能 / 公里
```

**海拔等效计算**：
```
海拔等效系数 = 100 米 / 1 公里
             = 0.1

海拔消耗 = 海拔高度 × 海拔等效系数 × 山路消耗率
        = 海拔高度 × 0.1 × 5
        = 海拔高度 × 0.5
```

**示例计算**：
```
场景1：1公里平路，海拔上升50米
总消耗 = 平路消耗 + 海拔消耗
      = 2.5 × 1 + 50 × 0.1 × 5
      = 2.5 + 25
      = 27.5 体能

场景2：1公里山路，海拔上升100米
总消耗 = 山路消耗 + 海拔消耗
      = 5 × 1 + 100 × 0.1 × 5
      = 5 + 50
      = 55 体能
```

#### 2.2.2 货币获取率

**徒步数计算**：
```
徒步数率 = 徒步数 / 徒步距离
        = 20,000 / 10 公里
        = 2,000 徒步数 / 公里
```

**海拔数计算**：
```
海拔数率 = 海拔数 / 海拔高度
        = 100 / 100 米
        = 1 海拔数 / 1 米海拔
```

#### 2.2.3 资源消耗率

**基础消耗（20公里）**：
- 3 瓶水 = 0.15 瓶/公里
- 1 瓶运动饮料 = 0.05 瓶/公里
- 1 次巧克力 = 0.05 次/公里

**转换为游戏数值**：
```
水消耗率 = 3 瓶 / 20 公里
        = 0.15 瓶/公里
        = 15 口渴值/公里

运动饮料消耗率 = 1 瓶 / 20 公里
             = 0.05 瓶/公里
             = 5 口渴值/公里

巧克力消耗率 = 1 次 / 20 公里
            = 0.05 次/公里
            = 5 饥饿值/公里
```

#### 2.2.4 休息机制

**休息频率**：
```
休息间隔 = 总路程 / 休息次数
        = 20 公里 / 2 次
        = 10 公里/次

休息时长 = 总时长 / 休息次数
        = 4 小时 / 2 次
        = 2 小时/次
```

---

## 三、调整方案

### 3.1 属性系统调整

#### 3.1.1 体能系统优化

**调整1：引入路程计算机制**

为每个卡牌添加"路程"属性：

| 卡牌类型 | 平路距离（km） | 海拔上升（m） | 等效山路消耗 |
|---------|--------------|--------------|-------------|
| 平坦道路 | 0.5 | 0 | 0.5 × 2.5 = 1.25 体能 |
| 略有坡度 | 0.3 | 30 | 0.3×2.5 + 30×0.5 = 15.75 体能 |
| 上坡路 | 0.2 | 50 | 0.2×2.5 + 50×0.5 = 25.5 体能 |
| 陡坡 | 0.1 | 100 | 0.1×2.5 + 100×0.5 = 50.25 体能 |

**调整2：体能消耗公式优化**

```javascript
// 新的体能消耗公式
function calculateEnergyConsumption(card) {
  // 基础消耗（根据卡牌类型）
  let baseConsumption = card.baseEnergyCost;

  // 海拔消耗（每100米海拔 = 1公里山路效果）
  let elevationConsumption = (card.elevation / 100) * 5;

  // 总消耗
  let totalConsumption = baseConsumption + elevationConsumption;

  // 考虑装备加成
  if (player.hasEquipment('登山杖')) {
    totalConsumption *= 0.85; // 减少15%
  }
  if (player.hasEquipment('登山靴')) {
    totalConsumption *= 0.8; // 减少20%
  }

  return Math.round(totalConsumption);
}
```

**调整3：体能恢复机制优化**

引入"体能恢复率"概念，受饥饿和口渴共同影响：

```javascript
// 体能恢复率计算
function calculateEnergyRecoveryRate(player) {
  // 基础恢复率
  let baseRate = 0.1; // 每秒恢复0.1体能

  // 饥饿影响
  let hungerModifier = 1.0;
  if (player.hunger < 50) {
    hungerModifier = 0.1; // 饥饿低于50，恢复率降至10%
  } else if (player.hunger < 80) {
    hungerModifier = 0.5; // 饥饿低于80，恢复率降至50%
  }

  // 口渴影响（权重更高）
  let thirstModifier = 1.0;
  if (player.thirst < 50) {
    thirstModifier = 0.05; // 口渴低于50，恢复率降至5%
  } else if (player.thirst < 80) {
    thirstModifier = 0.5; // 口渴低于80，恢复率降至50%
  }

  // 综合恢复率
  let recoveryRate = baseRate * hungerModifier * thirstModifier;

  return recoveryRate;
}
```

#### 3.1.2 疲劳系统优化

**调整1：引入"疲劳值"独立属性**

将疲劳值从0-20扩展到0-100，使其更独立和有意义：

| 属性 | 取值范围 | 起始值 | 主要影响 |
|------|---------|--------|---------|
| **疲劳** | 0-100 | 0 | 影响行动效率和体能恢复率 |

**调整2：疲劳累积公式优化**

```javascript
// 疲劳累积公式
function calculateFatigueAccumulation(player, card) {
  // 基础累积
  let baseFatigue = card.energyCost * 0.1; // 体能消耗的10%转化为疲劳

  // 负重影响
  let loadFactor = (player.currentLoad / player.maxLoad) * 0.5;

  // 心率影响
  let heartRateFactor = 0;
  if (player.heartRate > 130) {
    heartRateFactor = (player.heartRate - 130) * 0.02;
  }

  // 总累积
  let totalFatigue = baseFatigue + loadFactor + heartRateFactor;

  return totalFatigue;
}
```

**调整3：疲劳对行动的影响**

| 疲劳值范围 | 行动效率 | 体能恢复率 | 视觉提示 |
|-----------|---------|-----------|---------|
| 0-30 | 100% | 100% | 无 |
| 31-50 | 80% | 80% | 角色动作略微变慢 |
| 51-70 | 60% | 60% | 角色动作明显变慢 |
| 71-90 | 40% | 40% | 角色动作非常慢，呼吸声加重 |
| 91-100 | 20% | 20% | 角色动作极其慢，提示"需要休息" |

#### 3.1.3 饥饿系统优化

**调整1：饥饿消耗率量化**

```javascript
// 饥饿消耗公式
function calculateHungerConsumption(distance) {
  // 基础消耗（每公里消耗5饥饿值）
  let baseConsumption = distance * 5;

  // 运动强度影响
  let intensityModifier = 1.0;
  if (player.heartRate > 130) {
    intensityModifier = 1.5; // 高强度运动消耗增加50%
  }

  return Math.round(baseConsumption * intensityModifier);
}
```

**调整2：饥饿对体能恢复的影响**

| 饥饿值范围 | 体能恢复率 | 视觉提示 |
|-----------|-----------|---------|
| 81-100 | 100% | 无 |
| 51-80 | 50% | 肚子出现饿的图标 |
| 0-50 | 10% | 肚子饿的图标闪烁 |

#### 3.1.4 口渴系统优化

**调整1：口渴消耗率量化**

```javascript
// 口渴消耗公式
function calculateThirstConsumption(distance, temperature) {
  // 基础消耗（每公里消耗15口渴值）
  let baseConsumption = distance * 15;

  // 温度影响
  let tempModifier = 1.0;
  if (temperature > 30) {
    tempModifier = 1.5; // 高温消耗增加50%
  } else if (temperature < 10) {
    tempModifier = 0.7; // 低温消耗减少30%
  }

  return Math.round(baseConsumption * tempModifier);
}
```

**调整2：口渴对体能恢复的影响**

| 口渴值范围 | 体能恢复率 | 视觉提示 |
|-----------|-----------|---------|
| 81-100 | 100% | 无 |
| 51-80 | 50% | 嘴唇出现干渴图标 |
| 0-50 | 5% | 嘴唇干渴的图标闪烁 |

#### 3.1.5 心率系统优化

**调整1：心率变化机制**

```javascript
// 心率变化公式
function calculateHeartRateChange(player, card) {
  let baseHeartRate = player.restingHeartRate; // 静息心率

  // 运动强度影响
  let exerciseIntensity = card.energyCost * 0.5;

  // 负重影响
  let loadEffect = (player.currentLoad / player.maxLoad) * 20;

  // 疲劳影响
  let fatigueEffect = player.fatigue * 0.3;

  // 目标心率
  let targetHeartRate = baseHeartRate + exerciseIntensity + loadEffect + fatigueEffect;

  // 平滑过渡
  let heartRateChange = (targetHeartRate - player.currentHeartRate) * 0.1;

  return Math.round(player.currentHeartRate + heartRateChange);
}
```

**调整2：心率对疲劳的影响**

| 心率范围 | 疲劳累积倍率 | 视觉提示 |
|---------|------------|---------|
| 80-100 | 1.0x | 无 |
| 100-130 | 1.5x | 心率图标变为绿色 |
| 130-160 | 2.0x | 心率图标变为橙色 |
| 160-180 | 3.0x | 心率图标变为红色并闪烁 |

### 3.2 经济系统调整

#### 3.2.1 徒步数获取优化

**调整1：基于距离的徒步数计算**

```javascript
// 徒步数计算公式
function calculateHikingDistanceReward(distance, elevation) {
  // 基础徒步数（每公里2000徒步数）
  let baseReward = distance * 2000;

  // 海拔奖励（每1米海拔10徒步数）
  let elevationReward = elevation * 10;

  // 总奖励
  let totalReward = baseReward + elevationReward;

  return Math.round(totalReward);
}
```

**示例计算**：
```
场景1：完成1公里平路，海拔上升0米
徒步数 = 1 × 2000 + 0 × 10 = 2000

场景2：完成1公里山路，海拔上升100米
徒步数 = 1 × 2000 + 100 × 10 = 3000
```

**调整2：连击奖励优化**

| 连击类型 | 徒步数加成 |
|---------|-----------|
| 同类型3连击 | +10% |
| 同类型5连击 | +20% |
| 同类型7连击 | +30% |
| 同类型10连击 | +50% |
| 连续攀登2连击 | +15% |
| 连续攀登3连击 | +25% |
| 连续攀登4连击 | +35% |
| 连续攀登5连击 | +55% |
| 跨层连击 | +10% |

#### 3.2.2 海拔数获取优化

**调整1：基于海拔的海拔数计算**

```javascript
// 海拔数计算公式
function calculateElevationReward(elevation) {
  // 每1米海拔 = 1海拔数
  return elevation;
}
```

**调整2：山顶奖励**

| 关卡类型 | 山顶海拔数奖励 |
|---------|--------------|
| 前段关 (1-3) | 海拔高度 × 2 |
| 中段关 (4-6) | 海拔高度 × 3 |
| 后段关 (7-9) | 海拔高度 × 4 |
| BOSS关 (10) | 海拔高度 × 5 |

#### 3.2.3 环保值获取优化

**调整1：基于距离的环保值计算**

```javascript
// 环保值计算公式
function calculateEnvironmentalReward(card) {
  // 基础环保值
  let baseReward = 10;

  // 距离奖励
  let distanceReward = card.distance * 5;

  // 连击加成
  let comboMultiplier = 1.0;
  if (player.comboCount >= 3) {
    comboMultiplier = 1.1;
  } else if (player.comboCount >= 5) {
    comboMultiplier = 1.2;
  } else if (player.comboCount >= 7) {
    comboMultiplier = 1.3;
  } else if (player.comboCount >= 10) {
    comboMultiplier = 1.5;
  }

  // 总奖励
  let totalReward = (baseReward + distanceReward) * comboMultiplier;

  return Math.round(totalReward);
}
```

### 3.3 资源系统调整

#### 3.3.1 资源卡效果优化

**调整1：增加资源卡的"路程"属性**

| 资源卡名称 | 体能恢复 | 饥饿恢复 | 口渴恢复 | 可应对路程 |
|-----------|---------|---------|---------|-----------|
| 矿泉水 | +0 | 0 | +15 | 1公里 |
| 运动饮料 | +5 | 0 | +25 | 2公里 |
| 巧克力 | +15 | +10 | +0 | 3公里 |
| 能量棒 | +20 | +15 | +0 | 4公里 |
| 早茶点心 | +15 | +20 | +0 | 3公里 |
| 港式奶茶 | +10 | 0 | +15 | 2公里 |
| 海鲜粥 | +20 | +15 | 0 | 4公里 |
| 凉茶 | +5 | 0 | +20 | 2公里 |

**调整2：资源卡消耗公式**

```javascript
// 资源卡效果计算
function calculateResourceEffect(card, player) {
  // 基础效果
  let energyRestore = card.energyRestore;
  let hungerRestore = card.hungerRestore;
  let thirstRestore = card.thirstRestore;

  // 饥饿和口渴对恢复效果的影响
  if (player.hunger < 50) {
    energyRestore *= 0.5; // 饥饿时，食物效果减半
  }
  if (player.thirst < 50) {
    thirstRestore *= 0.5; // 干渴时，饮水效果减半
  }

  // 装备加成
  if (player.hasEquipment('专业背包')) {
    energyRestore *= 1.1; // 专业背包增加10%恢复效果
  }

  return {
    energy: Math.min(player.energy + energyRestore, 100),
    hunger: Math.min(player.hunger + hungerRestore, 100),
    thirst: Math.min(player.thirst + thirstRestore, 100)
  };
}
```

#### 3.3.2 新增资源卡

基于真实体验数据，新增以下资源卡：

| 资源卡名称 | 类型 | 体能恢复 | 饥饿恢复 | 口渴恢复 | 可应对路程 | 描述 |
|-----------|------|---------|---------|---------|-----------|------|
| **压缩饼干** | 资源卡 | +10 | +25 | 0 | 2公里 | 高能量密度食物 |
| **电解质水** | 资源卡 | +0 | 0 | +30 | 2公里 | 快速补充水分和电解质 |
| **能量胶** | 资源卡 | +8 | +5 | +10 | 1.5公里 | 运动专用能量补充 |
| **水果** | 资源卡 | +5 | +10 | +15 | 1公里 | 清爽解渴 |
| **咖啡** | 资源卡 | +15 | +5 | +5 | 2公里 | 提神醒脑 |

### 3.4 休息机制调整

#### 3.4.1 休息卡牌

新增"休息卡"类型，允许玩家在游戏中主动休息：

| 休息卡名称 | 类型 | 疲劳恢复 | 体能恢复 | 耗时 | 描述 |
|-----------|------|---------|---------|------|------|
| **短暂休息** | 休息卡 | -20 | +5 | 5分钟 | 短暂休息，恢复少量体力 |
| **调整呼吸** | 休息卡 | -30 | +8 | 10分钟 | 深呼吸，降低心率 |
| **午餐休息** | 休息卡 | -50 | +15 | 30分钟 | 正式午餐休息 |
| **深度休息** | 休息卡 | -80 | +25 | 1小时 | 长时间休息，大幅恢复 |

#### 3.4.2 休息机制

**调整1：自动休息提示**

当疲劳值达到阈值时，自动提示休息：

| 疲劳值阈值 | 提示方式 | 休息建议 |
|-----------|---------|---------|
| 70 | 轻微提示 | 建议短暂休息 |
| 80 | 中等提示 | 建议调整呼吸 |
| 90 | 强烈提示 | 强烈建议深度休息 |

**调整2：休息效果计算**

```javascript
// 休息效果计算
function calculateRestEffect(restCard, player) {
  // 基础效果
  let fatigueRestore = restCard.fatigueRestore;
  let energyRestore = restCard.energyRestore;

  // 环境影响
  let environmentModifier = 1.0;
  if (currentWeather === 'sunny') {
    environmentModifier = 1.1; // 晴天休息效果更好
  } else if (currentWeather === 'rain') {
    environmentModifier = 0.8; // 雨天休息效果较差
  }

  // 综合效果
  let totalFatigueRestore = fatigueRestore * environmentModifier;
  let totalEnergyRestore = energyRestore * environmentModifier;

  return {
    fatigue: Math.max(player.fatigue - totalFatigueRestore, 0),
    energy: Math.min(player.energy + totalEnergyRestore, 100)
  };
}
```

#### 3.4.3 休息限制

**调整1：休息次数限制**

为防止过度依赖休息，设置休息次数限制：

| 游戏阶段 | 每关最多休息次数 |
|---------|----------------|
| 前段关 (1-3) | 无限制 |
| 中段关 (4-6) | 3次 |
| 后段关 (7-9) | 2次 |
| BOSS关 (10) | 1次 |

**调整2：休息时间累加**

```javascript
// 总时间计算
let totalTime = baseTime + sum(restTimes);

// 时间过长会影响奖励
if (totalTime > 5 hours) {
  rewardMultiplier = 0.8; // 超过5小时，奖励减少20%
}
```

### 3.5 卡牌系统调整

#### 3.5.1 地形障碍卡优化

**调整1：为地形障碍卡添加路程和海拔属性**

| 地形卡名称 | 类型 | 平路距离（km） | 海拔上升（m） | 体能消耗 | 可获取徒步数 |
|-----------|------|--------------|--------------|---------|-------------|
| 平坦道路 | 地形卡 | 0.5 | 0 | 1.25 | 1000 |
| 略有坡度 | 地形卡 | 0.3 | 30 | 15.75 | 600 + 300 = 900 |
| 上坡路 | 地形卡 | 0.2 | 50 | 25.5 | 400 + 500 = 900 |
| 陡坡 | 地形卡 | 0.1 | 100 | 50.25 | 200 + 1000 = 1200 |
| 大屿山陡坡 | 地形卡 | 0.05 | 150 | 75.125 | 100 + 1500 = 1600 |
| 珠江口溪流 | 地形卡 | 0.1 | 20 | 10.25 | 200 + 200 = 400 |
| 古栈道 | 地形卡 | 0.15 | 10 | 6.25 | 300 + 100 = 400 |
| 郊野公园山路 | 地形卡 | 0.2 | 25 | 12.75 | 400 + 250 = 650 |

**调整2：地形障碍卡消耗计算**

```javascript
// 地形障碍卡消耗计算
function calculateTerrainCardCost(card) {
  // 平路消耗
  let flatConsumption = card.flatDistance * 2.5;

  // 海拔消耗（每100米 = 1公里山路 = 5体能）
  let elevationConsumption = card.elevation * 0.05;

  // 总消耗
  let totalConsumption = flatConsumption + elevationConsumption;

  // 考虑地形难度系数
  let terrainModifier = card.terrainDifficulty; // 1.0-2.0

  return Math.round(totalConsumption * terrainModifier);
}
```

#### 3.5.2 风景卡优化

**调整1：风景卡增加"能量恢复"效果**

| 风景卡名称 | 体能恢复 | 疲劳恢复 | 描述 |
|-----------|---------|---------|------|
| 维港夜景 | +2 | -5 | 欣赏美景，心情愉悦 |
| 大三巴牌坊 | +3 | -8 | 感受历史文化 |
| 广州塔 | +2 | -5 | 感受现代都市 |
| 港珠澳大桥 | +5 | -10 | 感受建设成就 |
| 岭南水乡 | +3 | -8 | 感受传统建筑 |

**调整2：风景卡效果计算**

```javascript
// 风景卡效果计算
function calculateSceneryCardEffect(card, player) {
  // 基础效果
  let energyRestore = card.energyRestore;
  let fatigueRestore = card.fatigueRestore;

  // 连击加成
  let comboMultiplier = 1.0;
  if (player.sceneryCombo >= 3) {
    comboMultiplier = 1.2;
  } else if (player.sceneryCombo >= 5) {
    comboMultiplier = 1.5;
  }

  // 综合效果
  let totalEnergyRestore = energyRestore * comboMultiplier;
  let totalFatigueRestore = fatigueRestore * comboMultiplier;

  return {
    energy: Math.min(player.energy + totalEnergyRestore, 100),
    fatigue: Math.max(player.fatigue + totalFatigueRestore, 0)
  };
}
```

---

## 四、实施方案

### 4.1 实施优先级

#### 第一阶段：核心机制优化（高优先级）

1. **体能消耗公式优化**（1-2周）
   - 引入路程和海拔计算
   - 优化地形障碍卡消耗
   - 测试和调整

2. **货币获取优化**（1-2周）
   - 基于距离和海拔计算徒步数
   - 优化海拔数获取
   - 测试和调整

3. **资源卡效果优化**（1-2周）
   - 为资源卡添加"可应对路程"属性
   - 优化资源恢复公式
   - 测试和调整

#### 第二阶段：系统深化（中优先级）

4. **疲劳系统优化**（2-3周）
   - 扩展疲劳值范围
   - 优化疲劳累积公式
   - 实现疲劳对行动的影响

5. **饥饿和口渴系统优化**（2-3周）
   - 量化消耗率
   - 优化对体能恢复的影响
   - 测试和调整

6. **心率系统优化**（2-3周）
   - 实现心率变化机制
   - 优化对疲劳的影响
   - 测试和调整

#### 第三阶段：新增功能（低优先级）

7. **休息机制**（3-4周）
   - 新增休息卡类型
   - 实现自动休息提示
   - 测试和调整

8. **风景卡优化**（2-3周）
   - 增加体能恢复效果
   - 优化风景卡效果计算
   - 测试和调整

### 4.2 测试方案

#### 4.2.1 单元测试

```javascript
// 体能消耗测试
describe('体能消耗计算', () => {
  it('平坦道路应该消耗1.25体能', () => {
    const card = {
      type: 'terrain',
      flatDistance: 0.5,
      elevation: 0
    };
    expect(calculateEnergyConsumption(card)).toBe(1.25);
  });

  it('陡坡应该消耗50.25体能', () => {
    const card = {
      type: 'terrain',
      flatDistance: 0.1,
      elevation: 100
    };
    expect(calculateEnergyConsumption(card)).toBe(50.25);
  });
});

// 徒步数计算测试
describe('徒步数计算', () => {
  it('1公里平路应该获得2000徒步数', () => {
    expect(calculateHikingDistanceReward(1, 0)).toBe(2000);
  });

  it('1公里山路（海拔100米）应该获得3000徒步数', () => {
    expect(calculateHikingDistanceReward(1, 100)).toBe(3000);
  });
});
```

#### 4.2.2 集成测试

```javascript
// 完整关卡测试
describe('完整关卡流程', () => {
  it('初始体能100应该能够完成20公里路程', () => {
    const player = {
      energy: 100,
      hunger: 100,
      thirst: 100,
      fatigue: 0
    };

    const cards = generateCards(20); // 生成20公里路程

    let totalDistance = 0;
    for (let card of cards) {
      const cost = calculateEnergyConsumption(card);
      player.energy -= cost;
      totalDistance += card.flatDistance;
    }

    expect(player.energy).toBeLessThanOrEqual(0);
    expect(totalDistance).toBeCloseTo(20, 0.5);
  });
});
```

#### 4.2.3 平衡性测试

| 测试项目 | 测试方法 | 预期结果 |
|---------|---------|---------|
| 体能平衡 | 完整关卡测试 | 初始体能100能完成20公里 |
| 货币平衡 | 货币获取测试 | 每10公里获得约20,000徒步数 |
| 资源平衡 | 资源消耗测试 | 20公里需要3瓶水+1瓶运动饮料+1次巧克力 |
| 休息平衡 | 休息频率测试 | 每10公里需要休息2次 |
| 难度平衡 | 难度递增测试 | 随着游玩次数增加，难度平滑递增 |

### 4.3 数据监控

#### 4.3.1 关键指标监控

| 指标 | 计算方法 | 目标值 |
|------|---------|-------|
| 体能消耗率 | 总体能消耗 / 总距离 | 5体能/公里（山路） |
| 货币获取率 | 徒步数 / 总距离 | 2000徒步数/公里 |
| 资源消耗率 | 水 / 总距离 | 0.15瓶/公里 |
| 休息频率 | 休息次数 / 总距离 | 0.1次/公里 |
| 通关率 | 通关人数 / 尝试人数 | 30-50% |
| 平均通关时间 | 总时间 / 通关人数 | 3-5小时 |

#### 4.3.2 异常情况处理

| 异常情况 | 触发条件 | 处理方式 |
|---------|---------|---------|
| 体能消耗异常 | 消耗率 < 3 或 > 7 | 检查卡牌配置，调整消耗公式 |
| 货币获取异常 | 获取率 < 1500 或 > 2500 | 检查奖励公式，调整获取逻辑 |
| 资源消耗异常 | 消耗率 < 0.1 或 > 0.2 | 检查资源卡效果，调整消耗率 |
| 休息频率异常 | 频率 < 0.05 或 > 0.15 | 检查疲劳系统，调整休息机制 |
| 通关率异常 | 通关率 < 20% 或 > 60% | 调整难度曲线 |

---

## 五、风险评估

### 5.1 潜在风险

#### 风险1：过于真实，失去游戏性

**描述**：
过度的量化可能导致游戏过于复杂，失去休闲游戏的乐趣。

**影响**：
- 新手玩家学习曲线陡峭
- 游戏节奏变慢
- 玩家流失

**缓解措施**：
- 提供详细的教程和引导
- 在前期关卡隐藏复杂计算
- 提供简化模式供新手选择

#### 风险2：数值调整导致现有玩家不适

**描述**：
大幅度的数值调整可能导致现有玩家的进度和习惯受到影响。

**影响**：
- 玩家抱怨
- 进度清零或重新计算
- 玩家流失

**缓解措施**：
- 提供过渡期，逐步调整
- 为现有玩家提供补偿
- 保留旧版本数据备份

#### 风险3：开发周期延长

**描述**：
复杂的数值调整和测试可能延长开发周期。

**影响**：
- 发布时间推迟
- 成本增加
- 竞争对手抢先

**缓解措施**：
- 分阶段实施
- 优先实施高优先级内容
- 并行开发和测试

### 5.2 成功标准

| 成功指标 | 目标值 | 测量方法 |
|---------|-------|---------|
| 玩家满意度 | ≥ 4.0/5.0 | 问卷调查 |
| 通关率 | 30-50% | 数据统计 |
| 平均游玩时长 | 3-5小时/局 | 数据统计 |
| 留存率（7日） | ≥ 30% | 数据统计 |
| 崩溃率 | < 1% | 错误日志 |
| 负面反馈 | < 10% | 社区反馈 |

---

## 六、总结

### 6.1 核心改进点

1. **体能消耗基于真实物理计算**
   - 引入路程和海拔概念
   - 区分平路和山路消耗
   - 量化海拔对消耗的影响

2. **货币获取基于实际表现**
   - 徒步数基于距离和海拔
   - 海拔数基于海拔高度
   - 环保值基于连击和表现

3. **资源补给更接近真实需求**
   - 资源卡添加"可应对路程"属性
   - 量化资源消耗率
   - 优化资源恢复效果

4. **休息机制更合理**
   - 新增休息卡类型
   - 自动休息提示
   - 休息次数限制

5. **系统间联动更紧密**
   - 饥饿和口渴影响体能恢复
   - 心率影响疲劳累积
   - 疲劳影响行动效率

### 6.2 预期效果

1. **真实感提升**
   - 玩家能感受到真实的徒步体验
   - 数值更符合实际物理规律
   - 决策更有依据

2. **策略性增强**
   - 资源管理更有深度
   - 路径规划更有意义
   - 休息时机更关键

3. **平衡性改善**
   - 难度曲线更平滑
   - 经济系统更稳定
   - 通关率更合理

4. **可玩性提升**
   - 新手友好度提高
   - 老玩家有挑战
   - 长期玩家有目标

### 6.3 后续建议

1. **持续监控**
   - 建立数据监控系统
   - 定期分析玩家数据
   - 根据反馈持续优化

2. **A/B测试**
   - 对关键数值进行A/B测试
   - 收集多组数据对比
   - 选择最优方案

3. **玩家反馈**
   - 建立玩家反馈渠道
   - 定期收集反馈
   - 根据反馈调整

4. **版本迭代**
   - 分阶段发布更新
   - 每次发布小范围测试
   - 逐步完善系统

---

**文档结束**

《大湾区徒步》真实体验平衡性调整方案 v1.0
**维护团队**：游戏策划团队
**最后更新**：2026年1月29日
